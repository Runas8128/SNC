{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Posts{% endblock %}</h1>
{% endblock %}

{% block content %}
  <article class="post_page">
    <header>
      <div>
        <h1>{{ post['title'] }}</h1>
        <div class="about">by {{ post['author_id'] }} on {{ post['created'].strftime('%Y-%m-%d') }}</div>
      </div>
      <input type="button" value="Edit" onclick="checkPW('edit');">
      <input type="button" value="Delete" onclick="checkPW('delete');">
    </header>
    <p class="body">{{ post['body'] }}</p>
  </article>

  <script>
    function checkPW(action) {
      const post_id = {{ post['id'] }};

      window.open(
        `/blog/${post_id}/check_${action}`,
        "a",
        "width=400, height=300, left=100, top=50"
      );
    }
  </script>
{% endblock %}