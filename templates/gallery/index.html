{% extends 'base.html' %}

{% block css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/blog_table.css') }}">
  <style> td.image { width: 75px; } </style>
{% endblock %}

{% block header %}
  <h1>{% block title %}Gallery{% endblock %}</h1>
{% endblock %}

{% block button %}
  <a class="action" href="{{ url_for('gallery.create') }}">ğŸ¨ ê·¸ë¦¬ê¸°</a>
{% endblock %}

{% block content %}
  <table class="board_list">
    <tr class="top">
      <th class="num">ë²ˆí˜¸</th>
      <th class="title">ì œëª©</th>
      <th class="image">ë¯¸ë¦¬ë³´ê¸°</th>
      <th class="writer">ê¸€ì“´ì´</th>
      <th class="date">ì‘ì„±ì¼</th>
      <th class="count">ì¡°íšŒìˆ˜</th>
    </tr>
  </table>

  <script src="{{ url_for('static', filename='js/util.js') }}"></script>
  <script>
    const posts = {{ posts|safe }};
    const listElem = document.getElementsByClassName('board_list')[0];

    posts.forEach(post => listElem.append(getThumbnail(post)));

    window.onpageshow = event => {
      if (
        event.persisted ||
        (performance.navigation.type === 2)) {
        location.reload();
      }
    }
  </script>
{% endblock %}